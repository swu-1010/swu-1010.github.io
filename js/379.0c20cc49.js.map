{"version":3,"file":"js/379.0c20cc49.js","mappings":"uKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,YAAYL,EAAIM,YAAYL,KAAKM,MAAM,aAAa,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,IAAI,EAAE,GAAGC,YAAYZ,EAAIa,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACb,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,KAAK,KAAO,cAAc,EAAEW,OAAM,OAAUd,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACF,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAIO,KAAKY,gBAAgBjB,EAAG,WAAW,CAACG,MAAM,CAAC,IAAML,EAAIO,KAAKa,IAAI,MAAQpB,EAAIO,KAAKc,MAAM,KAAOrB,EAAIO,KAAKe,OAAO,MAAQtB,EAAIO,KAAKgB,KAAK,MAAQ,IAAMvB,EAAIO,KAAKiB,OAAOtB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACJ,EAAIiB,GAAG,UAAUf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAIO,KAAKkB,IAAIC,cAAcxB,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACJ,EAAIiB,GAAG,UAAUf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAIO,KAAKkB,IAAIE,SAASzB,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACJ,EAAIiB,GAAG,UAAUf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAIO,KAAKkB,IAAIG,kBAAsC,GAApB5B,EAAIO,KAAKsB,OAAc3B,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACJ,EAAIiB,GAAG,UAAUf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAG,IAAIY,KAAK9B,EAAIO,KAAKkB,IAAIM,YAAYC,uBAAuBhC,EAAIiC,MAA0B,GAApBjC,EAAIO,KAAKsB,OAAc3B,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACJ,EAAIiB,GAAG,UAAUf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAIO,KAAKkB,IAAIS,mBAAmBlC,EAAIiC,QAA6B,GAArBhC,KAAKM,KAAKsB,QAAoC,GAApB5B,KAAKM,KAAKsB,OAAa3B,EAAG,aAAa,CAACiC,YAAY,CAAC,eAAe,QAAQ9B,MAAM,CAAC,MAAQ,GAAG,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIoC,QAAQ,IAAI,CAACpC,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGlB,EAAIqC,YAAYpC,KAAKM,KAAKsB,SAAS,OAAO7B,EAAIiC,MAAM,IAAI,EAC1rD,EACIK,EAAkB,GC2CtB,G,SAAA,CACAf,KAAAA,cACAgB,KAAAA,WACA,OACAhC,KAAAA,GAEA,EACAiC,QAAAA,WAEA,gCACA,EACAC,QAAAA,CACAL,SACA,WACA,mBACAM,QAAAA,IAAAA,GACA,sBACAC,MAAAA,KAAAA,YAAAA,GACAC,QAAAA,UAEAC,MAAAA,KAEA,YACAC,EAAAA,QAAAA,KAAAA,CAAAC,KAAAA,WAAAC,MAAAA,CAAAzC,KAAAA,EAAAA,QAEA,KACAmC,QAAAA,IAAAA,OAGAO,IAAAA,kBAAAA,sBAAAA,EAAAA,KAAAA,QAAAA,EAAAA,KAAAA,OAAAA,EAAAA,KAAAA,QACAJ,MAAAA,IACAH,QAAAA,IAAAA,GACAI,EAAAA,QAAAA,KAAAA,CAAAC,KAAAA,SAAAlB,OAAAA,EAAAA,KAAAA,QAAA,GAEA,IAEAqB,OAAAA,QAGA,EACA5C,YAAAA,GACA,gDACA,mBACA,OACA,YACA,6BACA,OAEA,OAGA,aACA,EACA+B,YAAAA,GACA,iCACA,YACA,KAEA,MACA,KCxGkS,I,WCQ9Rc,GAAY,OACd,EACApD,EACAuC,GACA,EACA,KACA,WACA,MAIF,EAAea,EAAiB,O","sources":["webpack://bookstore_app/./src/components/mobile/OrderDetail.vue","webpack://bookstore_app/src/components/mobile/OrderDetail.vue","webpack://bookstore_app/./src/components/mobile/OrderDetail.vue?b19e","webpack://bookstore_app/./src/components/mobile/OrderDetail.vue?d119"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"orderDetail\"},[_c('van-nav-bar',{attrs:{\"left-text\":_vm.orderStatus(this.book),\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"size\":\"25\",\"name\":\"ellipsis\"}})]},proxy:true}])}),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"publish\"},[_c('nav',[_vm._v(_vm._s(_vm.book.publisher))])]),_c('van-card',{attrs:{\"num\":_vm.book.num,\"price\":_vm.book.price,\"desc\":_vm.book.author,\"title\":_vm.book.name,\"thumb\":'/' + _vm.book.img}}),_c('div',{staticClass:\"info\"},[_c('div',[_c('div',{staticClass:\"infoLeft\"},[_vm._v(\"收货地址\")]),_c('div',{staticClass:\"infoRight\"},[_vm._v(_vm._s(_vm.book.etc.address))])]),_c('div',[_c('div',{staticClass:\"infoLeft\"},[_vm._v(\"订单编号\")]),_c('div',{staticClass:\"infoRight\"},[_vm._v(_vm._s(_vm.book.etc.no))])]),_c('div',[_c('div',{staticClass:\"infoLeft\"},[_vm._v(\"创建时间\")]),_c('div',{staticClass:\"infoRight\"},[_vm._v(_vm._s(_vm.book.etc.createTime))])]),(_vm.book.status == -2)?_c('div',[_c('div',{staticClass:\"infoLeft\"},[_vm._v(\"取消时间\")]),_c('div',{staticClass:\"infoRight\"},[_vm._v(_vm._s(new Date(_vm.book.etc.cancelTime).toLocaleString()))])]):_vm._e(),(_vm.book.status == -2)?_c('div',[_c('div',{staticClass:\"infoLeft\"},[_vm._v(\"取消原因\")]),_c('div',{staticClass:\"infoRight\"},[_vm._v(_vm._s(_vm.book.etc.cancelReason))])]):_vm._e()]),(this.book.status != -2 && this.book.status != 5)?_c('van-button',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"round\":\"\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.action()}}},[_vm._v(\" \"+_vm._s(_vm.orderAction(this.book.status))+\" \")]):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"orderDetail\">\r\n        <van-nav-bar :left-text=\"orderStatus(this.book)\" left-arrow @click-left=$router.go(-1)>\r\n            <template #right>\r\n                <van-icon size=\"25\" name=\"ellipsis\" />\r\n            </template>\r\n        </van-nav-bar>\r\n        <div class=\"content\">\r\n            <div class=\"publish\">\r\n                <nav>{{ book.publisher }}</nav>\r\n            </div>\r\n            <van-card :num=\"book.num\" :price=\"book.price\" :desc=\"book.author\" :title=\"book.name\"\r\n                :thumb=\"'/' + book.img\">\r\n            </van-card>\r\n            <div class=\"info\">\r\n                <div>\r\n                    <div class=\"infoLeft\">收货地址</div>\r\n                    <div class=\"infoRight\">{{ book.etc.address }}</div>\r\n                </div>\r\n                <div>\r\n                    <div class=\"infoLeft\">订单编号</div>\r\n                    <div class=\"infoRight\">{{ book.etc.no }}</div>\r\n                </div>\r\n                <div>\r\n                    <div class=\"infoLeft\">创建时间</div>\r\n                    <div class=\"infoRight\">{{ book.etc.createTime }}</div>\r\n                </div>\r\n                <div v-if=\"book.status == -2\">\r\n                    <div class=\"infoLeft\">取消时间</div>\r\n                    <div class=\"infoRight\">{{ new Date(book.etc.cancelTime).toLocaleString() }}</div>\r\n                </div>\r\n                <div v-if=\"book.status == -2\">\r\n                    <div class=\"infoLeft\">取消原因</div>\r\n                    <div class=\"infoRight\">{{ book.etc.cancelReason }}</div>\r\n                </div>\r\n            </div>\r\n            <van-button v-if=\"this.book.status != -2 && this.book.status != 5\" style=\"margin-right:20px\"\r\n                round type=\"info\" @click=\"action()\">\r\n                {{ orderAction(this.book.status) }}\r\n            </van-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'orderDetail',\r\n    data: function () {\r\n        return {\r\n            book: [],\r\n        }\r\n    },\r\n    created: function () {\r\n        // console.log(this.$route.query.book);\r\n        this.book = this.$route.query.book;\r\n    },\r\n    methods: {\r\n        action() {\r\n            let self = this;\r\n            let status = this.book.status\r\n            console.log(status);\r\n            this.$dialog.confirm({\r\n                title: this.orderAction(status),\r\n                message: '是否继续？',\r\n            })\r\n                .then(() => {\r\n                    // on confirm\r\n                    if (status == 4 || status == -1) {//评价、追评\r\n                        self.$router.push({ path: '/comment', query: { book: self.book } });\r\n                    }\r\n                    else if (status == 2) {\r\n                        console.log(\"666\");\r\n                    }\r\n                    else {\r\n                        api.updateOrderDetail(\"/orderDetail/update\", self.book.orderId, self.book.bookId, self.book.status)\r\n                        .then(res => {\r\n                            console.log(res);\r\n                            self.$router.push({path: '/order', status: self.book.status})\r\n                        })\r\n                    }\r\n                })\r\n                .catch(() => {\r\n                    // on cancel\r\n                });\r\n        },\r\n        orderStatus(book) {\r\n            let title = ['等待买家付款', '买家已付款', '卖家已发货', '交易成功', '退款/售后'];\r\n            if (book.status == -1)\r\n                return '已评价'\r\n            else if (book.status == -2) {\r\n                if (book.etc.cancelReason == \"超时自动取消\")\r\n                    return '超时取消'\r\n                else\r\n                    return '交易关闭'\r\n            }               \r\n            else\r\n                return title[book.status-1];\r\n        },\r\n        orderAction(status) {\r\n            let action = ['继续付款','催发货','确认收货','评价']\r\n            if (status == -1)\r\n                return \"追评\"\r\n            else\r\n                return action[status-1]\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n    text-align: left;\r\n}\r\n\r\n.publish {\r\n    margin-left: 15px;\r\n    padding-top: 10px;\r\n}\r\n\r\n.info {\r\n    padding: 10px;\r\n    display: grid;\r\n}\r\n.info div {\r\n    margin-bottom: 10px;\r\n}\r\n.infoLeft {\r\n    float: left;\r\n}\r\n\r\n.infoRight {\r\n    float: right;\r\n    white-space: normal;\r\n    word-break: break-all;\r\n    word-wrap: break-word;\r\n    width: 180px;\r\n}\r\n\r\n.van-button--info {\r\n    color: rgb(255 157 129);\r\n    background-color: #ffffff;\r\n    border: 1px solid rgb(255 157 129);\r\n    float: right;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderDetail.vue?vue&type=template&id=cf167182&scoped=true&\"\nimport script from \"./OrderDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderDetail.vue?vue&type=style&index=0&id=cf167182&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cf167182\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","orderStatus","book","on","$event","$router","go","scopedSlots","_u","key","fn","proxy","_v","_s","publisher","num","price","author","name","img","etc","address","no","createTime","status","Date","cancelTime","toLocaleString","_e","cancelReason","staticStyle","action","orderAction","staticRenderFns","data","created","methods","console","title","message","then","self","path","query","api","catch","component"],"sourceRoot":""}