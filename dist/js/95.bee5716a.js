"use strict";(self["webpackChunkbookstore_app"]=self["webpackChunkbookstore_app"]||[]).push([[95],{90095:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("van-nav-bar",{attrs:{"left-arrow":"",title:"请登陆"},on:{"click-left":function(t){return e.$router.go(-1)}}},[t("van-icon",{attrs:{slot:"right",name:"ellipsis"},slot:"right"})],1),t("div",{staticClass:"content"},[t("van-image",{attrs:{src:"/head.png"}}),t("van-field",{attrs:{label:"用户名",placeholder:"用户名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t("van-field",{attrs:{type:"password",label:"密码",placeholder:"密码"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),t("van-button",{attrs:{round:"",type:"info",size:"large"},on:{click:function(t){return e.submit()}}},[e._v("提交")]),t("div",{staticStyle:{"margin-top":"20px"}},[t("router-link",{attrs:{to:"/register"}},[e._v("没有账号？点击去注册")])],1)],1)],1)},n=[],a=(s(16743),s(88848)),o=(s(57658),s(7877)),i={inject:["reload"],name:"login",data:function(){return{username:this.$route.query.username,password:this.$route.query.password}},methods:{submit(){let e=this;var t={username:this.username,password:this.password};o.Z.login("/user/login",t).then((function(t){console.log(t),200==t.statusCode?((0,a.Z)("登录成功"),e.$store.commit("setUser",{Authorization:t.data.Authorization,username:t.data.user.username,nickname:t.data.user.nickname}),e.$store.commit("setCartNum"),e.$router.push({path:"/frontUser"})):600==t.statusCode&&((0,a.Z)(t.message),e.username="",e.password="")})).catch((function(e){console.log("error:",e)}))}}},u=i,l=s(1001),c=(0,l.Z)(u,r,n,!1,null,"b478eef6",null),d=c.exports}}]);
//# sourceMappingURL=95.bee5716a.js.map