"use strict";(self["webpackChunkbookstore_app"]=self["webpackChunkbookstore_app"]||[]).push([[88],{68088:function(t,o,s){s.r(o),s.d(o,{default:function(){return u}});var e=function(){var t=this,o=t._self._c;return o("div",{staticClass:"orderDetail"},[o("van-nav-bar",{attrs:{"left-text":t.orderStatus(this.book),"left-arrow":""},on:{"click-left":function(o){return t.$router.go(-1)}},scopedSlots:t._u([{key:"right",fn:function(){return[o("van-icon",{attrs:{size:"25",name:"ellipsis"}})]},proxy:!0}])}),o("div",{staticClass:"content"},[o("div",{staticClass:"publish"},[o("nav",[t._v(t._s(t.book.publisher))])]),o("van-card",{attrs:{num:t.book.num,price:t.book.price,desc:t.book.author,title:t.book.name,thumb:"/"+t.book.img}}),o("div",{staticClass:"info"},[o("div",[o("div",{staticClass:"infoLeft"},[t._v("收货地址")]),o("div",{staticClass:"infoRight"},[t._v(t._s(t.book.etc.address))])]),o("div",[o("div",{staticClass:"infoLeft"},[t._v("订单编号")]),o("div",{staticClass:"infoRight"},[t._v(t._s(t.book.etc.no))])]),o("div",[o("div",{staticClass:"infoLeft"},[t._v("创建时间")]),o("div",{staticClass:"infoRight"},[t._v(t._s(t.book.etc.createTime))])]),-2==t.book.status?o("div",[o("div",{staticClass:"infoLeft"},[t._v("取消时间")]),o("div",{staticClass:"infoRight"},[t._v(t._s(new Date(t.book.etc.cancelTime).toLocaleString()))])]):t._e(),-2==t.book.status?o("div",[o("div",{staticClass:"infoLeft"},[t._v("取消原因")]),o("div",{staticClass:"infoRight"},[t._v(t._s(t.book.etc.cancelReason))])]):t._e()]),-2!=this.book.status&&5!=this.book.status?o("van-button",{staticStyle:{"margin-right":"20px"},attrs:{round:"",type:"info"},on:{click:function(o){return t.action()}}},[t._v(" "+t._s(t.orderAction(this.book.status))+" ")]):t._e()],1)],1)},i=[],a=(s(57658),{name:"orderDetail",data:function(){return{book:[]}},created:function(){this.book=this.$route.query.book},methods:{action(){let t=this,o=this.book.status;console.log(o),this.$dialog.confirm({title:this.orderAction(o),message:"是否继续？"}).then((()=>{4==o||-1==o?t.$router.push({path:"/comment",query:{book:t.book}}):2==o?console.log("666"):api.updateOrderDetail("/orderDetail/update",t.book.orderId,t.book.bookId,t.book.status).then((o=>{console.log(o),t.$router.push({path:"/order",status:t.book.status})}))})).catch((()=>{}))},orderStatus(t){let o=["等待买家付款","买家已付款","卖家已发货","交易成功","退款/售后"];return-1==t.status?"已评价":-2==t.status?"超时自动取消"==t.etc.cancelReason?"超时取消":"交易关闭":o[t.status-1]},orderAction(t){let o=["继续付款","催发货","确认收货","评价"];return-1==t?"追评":o[t-1]}}}),n=a,r=s(1001),c=(0,r.Z)(n,e,i,!1,null,"cf167182",null),u=c.exports}}]);
//# sourceMappingURL=88.01a53e54.js.map