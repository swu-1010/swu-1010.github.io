"use strict";(self["webpackChunkbookstore_app"]=self["webpackChunkbookstore_app"]||[]).push([[815],{18815:function(t,e,a){a.r(e),a.d(e,{default:function(){return l}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user"},[e("div",{staticClass:"header"},[e("div",{staticClass:"header1"},[e("van-image",{staticClass:"userImg",attrs:{round:"",src:null!=t.nickname?"/user.jpg":""}}),e("div",{staticClass:"setting",on:{click:function(e){return t.toSetting()}}},[e("van-icon",{attrs:{size:"25",name:"setting-o"}}),e("div",[t._v("设置")])],1),null!=t.nickname?e("div",[e("div",{staticClass:"username"},[t._v(t._s(t.nickname))]),e("br"),t._m(0)]):e("div",[t._v(" 您没有登陆，请登陆或注册"),e("br"),e("van-button",{attrs:{round:"",type:"info",size:"normal"},on:{click:function(e){return t.login()}}},[t._v("去登陆")]),e("van-button",{attrs:{round:"",type:"info",size:"normal"},on:{click:function(e){return t.register()}}},[t._v("去注册")])],1)],1)]),e("div",{staticClass:"nav1"},[e("van-row",{staticClass:"like",attrs:{gutter:"20"}},[e("van-col",{attrs:{span:"8"},on:{click:function(e){return t.toFavor()}}},[e("van-icon",{attrs:{name:"star-o"}}),t._v("商品收藏 ")],1),e("van-col",{attrs:{span:"8"},on:{click:function(e){return t.toComment()}}},[e("van-icon",{attrs:{name:"underway-o"}}),t._v("我的评价 ")],1),e("van-col",{attrs:{span:"8"}},[e("van-icon",{attrs:{name:"cash-back-record"}}),t._v("我的零钱 ")],1)],1)],1),e("div",{staticClass:"nav2"},[e("van-cell",{staticClass:"order_cell",attrs:{value:"全部","is-link":""},on:{click:function(e){return t.toOrder(0)}},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{staticClass:"custom-title"},[t._v("我的订单")])]},proxy:!0}])}),e("van-row",{staticClass:"order",attrs:{type:"flex",justify:"space-between"}},[e("van-col",{attrs:{span:"4"}},[e("van-icon",{attrs:{name:"underway-o",badge:t.toBeStatus(1)},on:{click:function(e){return t.toOrder(1)}}}),e("div",[t._v("待付款")])],1),e("van-col",{attrs:{span:"4"}},[e("van-icon",{attrs:{name:"cash-back-record",badge:t.toBeStatus(2)},on:{click:function(e){return t.toOrder(2)}}}),e("div",[t._v("待发货")])],1),e("van-col",{attrs:{span:"4"}},[e("van-icon",{attrs:{name:"star-o",badge:t.toBeStatus(3)},on:{click:function(e){return t.toOrder(3)}}}),e("div",[t._v("待收货")])],1),e("van-col",{attrs:{span:"4"}},[e("van-icon",{attrs:{name:"cash-back-record",badge:t.toBeStatus(4)},on:{click:function(e){return t.toOrder(4)}}}),e("div",[t._v("待评价")])],1),e("van-col",{attrs:{span:"4"}},[e("van-icon",{attrs:{name:"cash-back-record",badge:t.toBeStatus(5)},on:{click:function(e){return t.toRefund(5)}}}),e("div",[t._v("退款")])],1)],1)],1)])},r=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{float:"left","margin-top":"10px","margin-left":"-50px"}},[e("span",[t._v("金币 666 | ")]),e("span",[t._v("粉丝 666")])])}],s=(a(57658),a(7877)),o={name:"frontUser",data:function(){return{nickname:localStorage.getItem("nickname")}},computed:{toBeStatus(){return t=>{let e=this.$store.getters.getOrderNum(t);return e||""}}},created:function(){let t=localStorage.getItem("username");if(null!=t){let e=this;s.Z.getUser("/user/getUser",t).then((t=>{let a=new Array(8).fill(0);200==t.statusCode?(e.user=t.data.user,s.Z.getByUserId("/order/getByUserId").then((t=>{console.log(t.data),t.data.forEach((t=>{-1==t.status?a[6]++:-2==t.status?a[7]++:(a[t.status]++,a[0]+=a[t.status])})),console.log(a),e.$store.commit("setOrderNum",a)}))):e.$store.commit("setOrderNum",a)}))}},methods:{register(){this.$router.push("register")},login(){this.$router.push("login")},toOrder(t){this.$router.push({path:"/order",query:{status:t}})},toSetting(){this.$router.push({path:"/setting",query:{user:this.user}})},toFavor(){this.$router.push({path:"/favor"})},toComment(){this.$router.push({path:"/myComment"})},toRefund(t){this.$router.push({path:"/reFund",query:{books:[],status:t}})}}},i=o,c=a(43736),u=(0,c.Z)(i,n,r,!1,null,"aa6afce4",null),l=u.exports}}]);
//# sourceMappingURL=815.49f23053.js.map