{"version":3,"file":"js/935.63666613.js","mappings":"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","sources":["webpack://bookstore_app/./src/components/mobile/Register.vue","webpack://bookstore_app/src/components/mobile/Register.vue","webpack://bookstore_app/./src/components/mobile/Register.vue?97f8","webpack://bookstore_app/./src/components/mobile/Register.vue?7fb2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"register\"},[_c('van-nav-bar',{attrs:{\"left-arrow\":\"\",\"title\":\"请注册\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}},[_c('van-icon',{attrs:{\"slot\":\"right\",\"name\":\"ellipsis\"},slot:\"right\"})],1),_c('div',{staticClass:\"content\"},[_c('van-image',{attrs:{\"src\":\"/head.png\"}}),_c('van-field',{attrs:{\"left-icon\":\"user-o\",\"required\":\"\",\"label\":\"用户名\",\"placeholder\":\"用户名\"},on:{\"input\":function($event){return _vm.checkName()}},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('div',{staticClass:\"tip\"},[_vm._v(_vm._s(_vm.tip))]),_c('van-field',{attrs:{\"left-icon\":\"user-o\",\"label\":\"昵称\",\"placeholder\":\"昵称\"},model:{value:(_vm.nickname),callback:function ($$v) {_vm.nickname=$$v},expression:\"nickname\"}}),_c('van-field',{attrs:{\"left-icon\":\"smile-o\",\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-field',{attrs:{\"left-icon\":\"smile-o\",\"type\":\"password\",\"label\":\"确认密码\",\"placeholder\":\"确认密码\"},on:{\"input\":function($event){return _vm.checkPass()}},model:{value:(_vm.password2),callback:function ($$v) {_vm.password2=$$v},expression:\"password2\"}}),_c('div',{staticClass:\"tip\"},[_vm._v(_vm._s(_vm.tip2))]),_c('van-checkbox',{staticStyle:{\"top\":\"30px\",\"position\":\"relative\"},attrs:{\"shape\":\"square\"},model:{value:(_vm.agree),callback:function ($$v) {_vm.agree=$$v},expression:\"agree\"}},[_vm._v(\"同意用户协议\")]),_c('van-button',{attrs:{\"round\":\"\",\"type\":\"info\",\"disabled\":!_vm.agree,\"size\":\"large\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"注册\")]),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('router-link',{attrs:{\"to\":\"/login\"}},[_vm._v(\"已有账号？点击去登录\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"register\">\r\n    <van-nav-bar left-arrow @click-left=$router.go(-1) title=\"请注册\">\r\n      <van-icon name=\"ellipsis\" slot=\"right\" />\r\n    </van-nav-bar>\r\n    <div class=\"content\">\r\n      <van-image src=\"/head.png\"></van-image>\r\n      <van-field left-icon=\"user-o\" required v-model=\"username\" @input=\"checkName()\" label=\"用户名\" placeholder=\"用户名\" />\r\n      <div class=\"tip\">{{tip}}</div>\r\n      <van-field left-icon=\"user-o\" v-model=\"nickname\" label=\"昵称\" placeholder=\"昵称\" />\r\n      <van-field left-icon=\"smile-o\" v-model=\"password\" type=\"password\" label=\"密码\" placeholder=\"密码\" />\r\n      <van-field left-icon=\"smile-o\" v-model=\"password2\" @input=\"checkPass()\" type=\"password\" label=\"确认密码\"\r\n        placeholder=\"确认密码\" />\r\n        <div class=\"tip\">{{tip2}}</div>\r\n      <van-checkbox style=\"top: 30px;position: relative;\" v-model=\"agree\" shape=\"square\">同意用户协议</van-checkbox>\r\n      <van-button round type=\"info\" :disabled=\"!agree\" size=\"large\" @click=\"submit()\">注册</van-button>\r\n      <div style=\"margin-top:20px\">\r\n                <router-link to=\"/login\">已有账号？点击去登录</router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/api'\r\nimport { Toast } from 'vant';\r\n\r\n\r\nexport default {\r\n  name: 'register',\r\n  data: function () {\r\n    return {\r\n      username: '',\r\n      nickname: '',\r\n      password: '',\r\n      password2: '',\r\n      tip: '',\r\n      tip2: '',\r\n      agree: false\r\n    }\r\n  },\r\n  methods: {\r\n    checkName() {\r\n      var flag = /^[-_a-zA-Z0-9]{4,16}$/;\r\n      if (this.username == '')\r\n        this.tip = \"用户名不能为空\";\r\n      else if (!flag.test(this.username))\r\n        this.tip = \"用户名需为4到16位，字母数字下划线，减号\"\r\n      else\r\n        this.tip = ''\r\n    },\r\n    checkPass() {\r\n      if (this.password2 != this.password)\r\n        this.tip2 = \"密码不一致\";\r\n      else\r\n        this.tip2 = '';\r\n    },\r\n    submit() {\r\n      let self = this;\r\n      var data = {\r\n        'username': this.username,\r\n        'password': this.password,\r\n        'nickname': this.nickname\r\n      }\r\n      api.register(\"/user/register\", data)\r\n        .then(res => {\r\n          console.log(res);\r\n          Toast(res.message)\r\n          if(res.statusCode == 600) {//已注册\r\n            self.username = \"\"\r\n            self.agree = false\r\n          }\r\n          else\r\n            self.$router.replace({ path: '/login', query: { username: data.username, password: data.password } });\r\n        }).catch(function (err) {\r\n          console.log(\"error:\", err);\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.register {\r\n  background-color: white;\r\n  padding-left: 15px;\r\n  padding-right: 15px;\r\n}\r\n\r\n.content {\r\n  margin: 0 auto;\r\n}\r\n\r\n.van-button--large {\r\n    width: 45%;\r\n    left: 80px;\r\n}\r\n.tip {\r\n  font-size: 12px;\r\n  color: red;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=60270016&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=60270016&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60270016\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","go","slot","checkName","model","value","username","callback","$$v","expression","_v","_s","tip","nickname","password","checkPass","password2","tip2","staticStyle","agree","submit","staticRenderFns","name","data","methods","flag","test","self","api","register","then","res","console","log","_Toast","message","statusCode","replace","path","query","catch","err","component"],"sourceRoot":""}