{"version":3,"file":"js/95.bee5716a.js","mappings":"sKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,aAAa,GAAG,MAAQ,OAAOC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAOP,EAAIQ,QAAQC,IAAI,EAAE,IAAI,CAACP,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAYK,KAAK,WAAW,GAAGR,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,IAAM,eAAeH,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,MAAM,YAAc,OAAOM,MAAM,CAACC,MAAOZ,EAAIa,SAAUC,SAAS,SAAUC,GAAMf,EAAIa,SAASE,CAAG,EAAEC,WAAW,cAAcd,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,KAAK,YAAc,MAAMC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOU,KAAKC,QAAQ,QAAQlB,EAAImB,GAAGZ,EAAOa,QAAQ,QAAQ,GAAGb,EAAOc,IAAI,SAAgB,KAAYrB,EAAIsB,QAAQ,GAAGX,MAAM,CAACC,MAAOZ,EAAIuB,SAAUT,SAAS,SAAUC,GAAMf,EAAIuB,SAASR,CAAG,EAAEC,WAAW,cAAcd,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,GAAG,KAAO,OAAO,KAAO,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIsB,QAAQ,IAAI,CAACtB,EAAIwB,GAAG,QAAQtB,EAAG,MAAM,CAACuB,YAAY,CAAC,aAAa,SAAS,CAACvB,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,cAAc,CAACL,EAAIwB,GAAG,iBAAiB,IAAI,IAAI,EAC5kC,EACIE,EAAkB,G,2CCkBtB,GACAC,OAAA,WACAC,KAAA,QACAC,KAAA,WACA,OACAhB,SAAA,KAAAiB,OAAAC,MAAAlB,SACAU,SAAA,KAAAO,OAAAC,MAAAR,SAEA,EACAS,QAAA,CACAV,MAAAA,GACA,IAAAW,EAAA,KACA,IAAAJ,EAAA,CACA,cAAAhB,SACA,cAAAU,UAEAW,EAAAA,EAAAC,MAAA,cAAAN,GACAO,MAAA,SAAAC,GACAC,QAAAC,IAAAF,GACA,KAAAA,EAAAG,aACAC,EAAAA,EAAAA,GAAA,QACAR,EAAAS,OAAAC,OAAA,WACAC,cAAAP,EAAAR,KAAAe,cACA/B,SAAAwB,EAAAR,KAAAgB,KAAAhC,SACAiC,SAAAT,EAAAR,KAAAgB,KAAAC,WAEAb,EAAAS,OAAAC,OAAA,cACAV,EAAAzB,QAAAuC,KAAA,CAAAC,KAAA,gBAEA,KAAAX,EAAAG,cACAC,EAAAA,EAAAA,GAAAJ,EAAAY,SACAhB,EAAApB,SAAA,GACAoB,EAAAV,SAAA,GAEA,IAAA2B,OAAA,SAAAC,GACAb,QAAAC,IAAA,SAAAY,EACA,GACA,ICzD6P,I,UCQzPC,GAAY,OACd,EACArD,EACA2B,GACA,EACA,KACA,WACA,MAIF,EAAe0B,EAAiB,O","sources":["webpack://bookstore_app/./src/components/mobile/Login.vue","webpack://bookstore_app/src/components/mobile/Login.vue","webpack://bookstore_app/./src/components/mobile/Login.vue?b46f","webpack://bookstore_app/./src/components/mobile/Login.vue?77a5"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('van-nav-bar',{attrs:{\"left-arrow\":\"\",\"title\":\"请登陆\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}},[_c('van-icon',{attrs:{\"slot\":\"right\",\"name\":\"ellipsis\"},slot:\"right\"})],1),_c('div',{staticClass:\"content\"},[_c('van-image',{attrs:{\"src\":\"/head.png\"}}),_c('van-field',{attrs:{\"label\":\"用户名\",\"placeholder\":\"用户名\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"密码\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submit()}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-button',{attrs:{\"round\":\"\",\"type\":\"info\",\"size\":\"large\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"提交\")]),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\"没有账号？点击去注册\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login\">\r\n        <van-nav-bar left-arrow @click-left=$router.go(-1) title=\"请登陆\" >\r\n            <van-icon name=\"ellipsis\" slot=\"right\" />\r\n        </van-nav-bar>\r\n        <div class=\"content\">\r\n            <van-image src=\"/head.png\"></van-image>\r\n            <van-field v-model=\"username\" label=\"用户名\" placeholder=\"用户名\" />\r\n            <van-field v-model=\"password\" type=\"password\" label=\"密码\" placeholder=\"密码\" @keyup.enter=\"submit()\" />\r\n            <van-button round type=\"info\" size=\"large\" @click=\"submit()\" >提交</van-button>\r\n            <div style=\"margin-top:20px\">\r\n                <router-link to=\"/register\">没有账号？点击去注册</router-link>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport api from '@/api'\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n    inject: ['reload'],\r\n    name: 'login',\r\n    data: function () {\r\n        return {\r\n            username: this.$route.query.username,\r\n            password: this.$route.query.password,\r\n        }\r\n    },\r\n    methods: {\r\n        submit() {\r\n            let self = this;\r\n            var data = {\r\n                'username': this.username,\r\n                'password': this.password\r\n            }\r\n            api.login(\"/user/login\", data)\r\n                .then(function (res) {\r\n                    console.log(res);\r\n                    if (res.statusCode == 200) {\r\n                        Toast(\"登录成功\");\r\n                        self.$store.commit('setUser', {\r\n                            Authorization: res.data.Authorization,\r\n                            username: res.data.user.username,\r\n                            nickname: res.data.user.nickname,\r\n                        })\r\n                        self.$store.commit('setCartNum')                       \r\n                        self.$router.push({ path: '/frontUser' })\r\n                    }\r\n                    else if (res.statusCode == 600) { //账号或密码错误\r\n                        Toast(res.message)\r\n                        self.username = \"\"\r\n                        self.password = \"\"\r\n                    }\r\n                }).catch(function (err) {\r\n                    console.log(\"error:\", err);\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login {\r\n    background-color: white;\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n}\r\n\r\n.content {\r\n    margin: 0 auto;\r\n}\r\n\r\n.van-button--large {\r\n    width: 70%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=b478eef6&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=b478eef6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b478eef6\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","go","slot","model","value","username","callback","$$v","expression","type","indexOf","_k","keyCode","key","submit","password","_v","staticStyle","staticRenderFns","inject","name","data","$route","query","methods","self","api","login","then","res","console","log","statusCode","_Toast","$store","commit","Authorization","user","nickname","push","path","message","catch","err","component"],"sourceRoot":""}