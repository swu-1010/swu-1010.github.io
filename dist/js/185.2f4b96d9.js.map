{"version":3,"file":"js/185.2f4b96d9.js","mappings":"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","sources":["webpack://bookstore_app/./src/components/mobile/Cart.vue","webpack://bookstore_app/src/components/mobile/Cart.vue","webpack://bookstore_app/./src/components/mobile/Cart.vue?01d5","webpack://bookstore_app/./src/components/mobile/Cart.vue?5fa0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cart\"},[_c('van-nav-bar',{attrs:{\"left-arrow\":\"\",\"title\":\"购物车\"},on:{\"click-left\":function($event){return _vm.$router.back(-1)}}},[(!_vm.isManage)?_c('van-icon',{attrs:{\"slot\":\"right\",\"name\":\"ellipsis\"},on:{\"click\":function($event){return _vm.manage()}},slot:\"right\"}):_c('span',{attrs:{\"slot\":\"right\"},on:{\"click\":function($event){return _vm.manage()}},slot:\"right\"},[_vm._v(\"退出管理\")])],1),(this.$store.getters.getCartNum == '')?_c('van-notice-bar',[_vm._v(\"您的购物车空空如也...\")]):_vm._e(),_c('div',{staticClass:\"content\"},_vm._l((_vm.shopCarts),function(publisher,indexP){return _c('div',{key:indexP},[_c('div',{staticClass:\"publish\"},[_c('nav',[_vm._v(_vm._s(publisher.publisher))])]),_vm._l((publisher.books),function(book,indexB){return _c('van-card',{key:indexB,attrs:{\"price\":book.price,\"desc\":book.author,\"title\":book.name,\"thumb\":'/' + book.img},on:{\"click\":function($event){return _vm.toDetail(book.bookId)}},scopedSlots:_vm._u([{key:\"tag\",fn:function(){return [_c('van-checkbox',{nativeOn:{\"click\":function($event){return _vm.updateCart(book.bookId, 0)}},model:{value:(book.checked),callback:function ($$v) {_vm.$set(book, \"checked\", $$v)},expression:\"book.checked\"}})]},proxy:true},{key:\"num\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"delete-o\"},on:{\"click\":function($event){return _vm.deleteCart(book.bookId)}}})]},proxy:true},{key:\"footer\",fn:function(){return [_c('van-stepper',{attrs:{\"theme\":\"round\",\"value\":book.num},on:{\"plus\":function($event){return _vm.addNum(book.bookId)},\"minus\":function($event){return _vm.subNum(book.bookId)}}})]},proxy:true}],null,true)})})],2)}),0),(!this.isManage)?_c('van-submit-bar',{attrs:{\"price\":_vm.totalPrice,\"disabled\":_vm.isCheckCart,\"button-text\":\"结算\"},on:{\"submit\":function($event){return _vm.submit(_vm.totalPrice)}}},[_c('van-checkbox',{nativeOn:{\"click\":function($event){return _vm.updateCart(0, 1)}},model:{value:(_vm.allCheck),callback:function ($$v) {_vm.allCheck=$$v},expression:\"allCheck\"}},[_vm._v(\"全选\")])],1):_c('van-submit-bar',{attrs:{\"button-text\":\"删除\",\"disabled\":_vm.isCheckCart},on:{\"submit\":function($event){return _vm.deleteCarts()}}},[_c('van-checkbox',{staticStyle:{\"width\":\"70%\"},nativeOn:{\"click\":function($event){return _vm.updateCart(0, 1)}},model:{value:(_vm.allCheck),callback:function ($$v) {_vm.allCheck=$$v},expression:\"allCheck\"}},[_vm._v(\"全选\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"cart\">\r\n        <van-nav-bar left-arrow @click-left=$router.back(-1) title=\"购物车\">\r\n            <van-icon v-if=\"!isManage\" name=\"ellipsis\" slot=\"right\" @click=\"manage()\" />\r\n            <span v-else slot=\"right\" @click=\"manage()\">退出管理</span>\r\n        </van-nav-bar>\r\n        <van-notice-bar v-if=\"this.$store.getters.getCartNum == ''\">您的购物车空空如也...</van-notice-bar>\r\n        <div class=\"content\">\r\n            <div v-for=\"publisher, indexP in shopCarts\" :key=\"indexP\">\r\n                <div class=\"publish\">\r\n                    <nav>{{ publisher.publisher }}</nav>\r\n                </div>\r\n                <van-card v-for=\"book, indexB in publisher.books\" :key=\"indexB\" :price=\"book.price\" :desc=\"book.author\"\r\n                    :title=\"book.name\" :thumb=\"'/' + book.img\" @click=\"toDetail(book.bookId)\">\r\n                    <template #tag>\r\n                        <van-checkbox v-model=\"book.checked\" @click.native=\"updateCart(book.bookId, 0)\" />\r\n                    </template>\r\n                    <template #num>\r\n                        <van-icon name=\"delete-o\" @click=\"deleteCart(book.bookId)\" />\r\n                    </template>\r\n                    <template #footer>\r\n                        <van-stepper theme=\"round\" :value=\"book.num\" @plus=\"addNum(book.bookId)\"\r\n                            @minus=\"subNum(book.bookId)\" />\r\n                    </template>\r\n                </van-card>\r\n            </div>\r\n        </div>\r\n        <van-submit-bar v-if=\"!this.isManage\" :price=\"totalPrice\" :disabled=\"isCheckCart\" button-text=\"结算\"\r\n            @submit=\"submit(totalPrice)\">\r\n            <van-checkbox v-model=\"allCheck\" @click.native=\"updateCart(0, 1)\">全选</van-checkbox>\r\n        </van-submit-bar>\r\n        <van-submit-bar v-else button-text=\"删除\" :disabled=\"isCheckCart\" @submit=\"deleteCarts()\">\r\n            <van-checkbox style=\"width: 70%;\" v-model=\"allCheck\" @click.native=\"updateCart(0, 1)\">全选</van-checkbox>\r\n        </van-submit-bar>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/api\"\r\nimport { Toast } from \"vant\";\r\n\r\nexport default {\r\n    inject: ['reload'],\r\n    name: 'cart',\r\n    data: function () {\r\n        return {\r\n            books: [],\r\n            ids: [],\r\n            carts: [],\r\n            shopCarts: [],\r\n            allCheck: '',\r\n            isManage: false,\r\n        }\r\n    },\r\n    computed: {\r\n        totalPrice: function () {\r\n            let total = 0;\r\n            this.books.forEach(i => {\r\n                if (i.checked == 1) {\r\n                    total += i.num * i.price * 100;\r\n                }\r\n            })\r\n            return total;\r\n        },\r\n        isCheckCart: function () {\r\n            let flag = true;\r\n            this.books.forEach(item => {\r\n                if (item.checked == 1 || item.checked == true)\r\n                   flag = false;\r\n            })\r\n            // console.log(flag);\r\n            return flag;\r\n        }\r\n    },\r\n    methods: {\r\n        addNum(id) {//数量增加\r\n            event.stopPropagation();\r\n            api.add(\"/cart/addById\", id)\r\n                .then(function (res) {\r\n                    // console.log(res.data);\r\n                })\r\n        },\r\n        subNum(id) {//数量减少\r\n            event.stopPropagation();\r\n            api.sub(\"/cart/subById\", id)\r\n                .then(function (res) {\r\n                    // console.log(res.data);\r\n                })\r\n        },\r\n        checkAll() {\r\n            let flag = 0;\r\n            for (var item of this.books) {\r\n                if (item.checked == 0) {\r\n                    this.allCheck = false;\r\n                    break;\r\n                }\r\n                else\r\n                    flag++;\r\n                if (flag == this.books.length)\r\n                    this.allCheck = true;\r\n            }\r\n        },\r\n        updateCart(ids, flag) {\r\n            event.stopPropagation();\r\n            let self = this;\r\n            if (flag == 0) {\r\n                api.updateByIds(\"/cart/updateByIds\", ids)\r\n                    .then(res => {\r\n                        // console.log(res.data);\r\n                        self.checkAll();\r\n                    })\r\n            }\r\n            else if (flag == 1) {\r\n                // this.$refs.checkboxGroup.toggleAll(!this.allCheck);\r\n                api.updateByIds(\"/cart/updateByIds\", this.ids.join(\",\"))\r\n                    .then(res => {\r\n                        // console.log(res.data);\r\n                        self.getCart();\r\n                        self.checkAll();\r\n                        // this.reload();\r\n                    })\r\n                // console.log(this.allCheck);\r\n            }\r\n        },\r\n        deleteCart(ids) {//删除\r\n            let self = this;\r\n            event.stopPropagation();\r\n            console.log(ids);\r\n            this.$dialog.confirm({\r\n                title: '删除商品',\r\n                message: '确认删除吗？',\r\n            })\r\n                .then(() => {\r\n                    // on confirm                    \r\n                    api.deleteByIds(\"/cart/deleteByIds\", ids)\r\n                        .then(res => {\r\n                            console.log(res.data);\r\n                            self.getCart();\r\n                            self.reload()\r\n                        })\r\n                    \r\n                    // self.reload();\r\n                })\r\n                .catch((error) => {\r\n                    // on cancel\r\n                    console.log(error);\r\n                });\r\n        },\r\n        deleteCarts() {\r\n            let checkedIds = [];\r\n            this.books.forEach(i => {\r\n                if (i.checked == 1)\r\n                    checkedIds.push(i.bookId);\r\n            })\r\n            console.log(checkedIds);\r\n            this.deleteCart(checkedIds.join(\",\"));\r\n        },\r\n        toDetail(id) {\r\n            this.$router.push({ path: '/detail', query: { id: id } });\r\n        },\r\n        getCarts(carts) {//选中结算\r\n            let publisher = [];\r\n            carts.forEach(i => {\r\n                publisher.push(i.publisher);\r\n            })\r\n            //去重出版社\r\n            publisher = Array.from(new Set(publisher));\r\n            // console.log(publisher);\r\n            //不同出版社\r\n            let list = [];\r\n            for (let i = 0; i < publisher.length; i++) {\r\n                list.push({ publisher: publisher[i], books: [] });\r\n                let item = [];\r\n                carts.forEach(book => {\r\n                    if (book.publisher == publisher[i])\r\n                        item.push(book);\r\n                })\r\n                // console.log(item);\r\n                list[i].books = item;\r\n            }\r\n            return list;\r\n        },\r\n        getCart() {\r\n            let self = this;\r\n            api.getUser(\"/user/getUser\", localStorage.getItem('username'))\r\n                .then(function (res1) {\r\n                    // console.log(res1.statusCode);\r\n                    if (res1.statusCode == 200) {\r\n                        api.getBooksByUserId(\"/cart/getByUserId\", res1.data.user.id)\r\n                            .then(function (res2) {\r\n                                self.books = [];\r\n                                self.carts = [];\r\n                                \r\n                                if (res2.data) {\r\n                                    self.carts = res2.data;                                   \r\n                                    self.ids = [];\r\n                                    self.carts.forEach(i => {\r\n                                        self.ids.push(i.bookId);\r\n                                    })\r\n                                    // console.log(self.ids.join(\",\"));\r\n                                    api.getCartBookByIds(\"/book/getBookByIds\", self.ids.join(\",\"))\r\n                                        .then(function (res3) {\r\n                                            //合并cart数组\r\n                                            self.books = self.carts.map((item, index) => {\r\n                                                return { ...item, ...res3.data[index] };\r\n                                            });\r\n                                            // console.log(list);\r\n                                            self.shopCarts = self.getCarts(self.books);\r\n                                            self.checkAll();\r\n                                            console.log(self.shopCarts);\r\n                                        })\r\n                                }\r\n                            })\r\n                    }\r\n                    else if (res1.statusCode == 401) {\r\n                        Toast(\"token过期\");\r\n                        self.$router.push('login');\r\n                    }\r\n                })\r\n        },\r\n        manage() {\r\n            this.isManage = !this.isManage;\r\n        },\r\n        submit(totalPrice) {\r\n            // console.log(totalPrice / 100);\r\n            let checkCarts = [];\r\n            this.books.forEach(i => {\r\n                if (i.checked == 1 || i.checked == true)\r\n                    checkCarts.push(i);\r\n            })\r\n            this.$router.push({ path: '/confirmOrder', query: { books: this.getCarts(checkCarts), totalPrice: totalPrice } });\r\n        }\r\n    },\r\n    mounted: function () {\r\n        if (localStorage.getItem('username')) {\r\n            this.getCart();\r\n            this.$store.dispatch('setCartNum');\r\n            this.checkAll();\r\n        }\r\n        // this.getCart()\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.cart {\r\n    padding: 10px;\r\n    background-color: white;\r\n}\r\n\r\n.content {\r\n    text-align: left;\r\n}\r\n\r\n.van-card__bottom {\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.van-submit-bar {\r\n    bottom: 50px;\r\n}\r\n\r\n.van-stepper {\r\n    position: relative;\r\n    bottom: 15px;\r\n}\r\n\r\n.van-card__tag {\r\n    top: 30px;\r\n    left: -20px;\r\n}\r\n\r\n.publish {\r\n    margin-left: 15px;\r\n    padding: 10px;\r\n}\r\n\r\n.van-card__num {\r\n    position: relative;\r\n    bottom: 40px;\r\n    left: 10px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=53c17f9f&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&id=53c17f9f&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53c17f9f\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","isManage","manage","slot","_v","$store","getters","getCartNum","_e","_l","shopCarts","publisher","indexP","key","_s","books","book","indexB","price","author","name","img","toDetail","bookId","scopedSlots","_u","fn","nativeOn","updateCart","model","value","checked","callback","$$v","$set","expression","proxy","deleteCart","num","addNum","subNum","isCheckCart","deleteCarts","staticStyle","allCheck","totalPrice","submit","staticRenderFns","inject","data","ids","carts","computed","total","forEach","i","flag","item","methods","id","event","stopPropagation","api","add","then","res","sub","checkAll","length","self","updateByIds","join","getCart","console","log","$dialog","confirm","title","message","deleteByIds","reload","catch","error","checkedIds","push","path","query","getCarts","Array","from","Set","list","getUser","localStorage","getItem","res1","statusCode","getBooksByUserId","user","res2","getCartBookByIds","res3","map","index","_Toast","checkCarts","mounted","dispatch","component"],"sourceRoot":""}