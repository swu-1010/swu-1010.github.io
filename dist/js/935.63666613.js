"use strict";(self["webpackChunkbookstore_app"]=self["webpackChunkbookstore_app"]||[]).push([[935],{51935:function(e,s,t){t.r(s),t.d(s,{default:function(){return p}});var a=function(){var e=this,s=e._self._c;return s("div",{staticClass:"register"},[s("van-nav-bar",{attrs:{"left-arrow":"",title:"请注册"},on:{"click-left":function(s){return e.$router.go(-1)}}},[s("van-icon",{attrs:{slot:"right",name:"ellipsis"},slot:"right"})],1),s("div",{staticClass:"content"},[s("van-image",{attrs:{src:"/head.png"}}),s("van-field",{attrs:{"left-icon":"user-o",required:"",label:"用户名",placeholder:"用户名"},on:{input:function(s){return e.checkName()}},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}}),s("div",{staticClass:"tip"},[e._v(e._s(e.tip))]),s("van-field",{attrs:{"left-icon":"user-o",label:"昵称",placeholder:"昵称"},model:{value:e.nickname,callback:function(s){e.nickname=s},expression:"nickname"}}),s("van-field",{attrs:{"left-icon":"smile-o",type:"password",label:"密码",placeholder:"密码"},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),s("van-field",{attrs:{"left-icon":"smile-o",type:"password",label:"确认密码",placeholder:"确认密码"},on:{input:function(s){return e.checkPass()}},model:{value:e.password2,callback:function(s){e.password2=s},expression:"password2"}}),s("div",{staticClass:"tip"},[e._v(e._s(e.tip2))]),s("van-checkbox",{staticStyle:{top:"30px",position:"relative"},attrs:{shape:"square"},model:{value:e.agree,callback:function(s){e.agree=s},expression:"agree"}},[e._v("同意用户协议")]),s("van-button",{attrs:{round:"",type:"info",disabled:!e.agree,size:"large"},on:{click:function(s){return e.submit()}}},[e._v("注册")]),s("div",{staticStyle:{"margin-top":"20px"}},[s("router-link",{attrs:{to:"/login"}},[e._v("已有账号？点击去登录")])],1)],1)],1)},r=[],n=(t(16743),t(88848)),i=t(7877),o={name:"register",data:function(){return{username:"",nickname:"",password:"",password2:"",tip:"",tip2:"",agree:!1}},methods:{checkName(){var e=/^[-_a-zA-Z0-9]{4,16}$/;""==this.username?this.tip="用户名不能为空":e.test(this.username)?this.tip="":this.tip="用户名需为4到16位，字母数字下划线，减号"},checkPass(){this.password2!=this.password?this.tip2="密码不一致":this.tip2=""},submit(){let e=this;var s={username:this.username,password:this.password,nickname:this.nickname};i.Z.register("/user/register",s).then((t=>{console.log(t),(0,n.Z)(t.message),600==t.statusCode?(e.username="",e.agree=!1):e.$router.replace({path:"/login",query:{username:s.username,password:s.password}})})).catch((function(e){console.log("error:",e)}))}}},l=o,c=t(1001),u=(0,c.Z)(l,a,r,!1,null,"60270016",null),p=u.exports}}]);
//# sourceMappingURL=935.63666613.js.map