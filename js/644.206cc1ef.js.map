{"version":3,"file":"js/644.206cc1ef.js","mappings":"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","sources":["webpack://bookstore_app/./src/components/mobile/User.vue","webpack://bookstore_app/src/components/mobile/User.vue","webpack://bookstore_app/./src/components/mobile/User.vue?cd77","webpack://bookstore_app/./src/components/mobile/User.vue?a42d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"header1\"},[_c('van-image',{staticClass:\"userImg\",attrs:{\"round\":\"\",\"src\":_vm.nickname != null ? '/user.jpg' : ''}}),_c('div',{staticClass:\"setting\",on:{\"click\":function($event){return _vm.toSetting()}}},[_c('van-icon',{attrs:{\"size\":\"25\",\"name\":\"setting-o\"}}),_c('div',[_vm._v(\"设置\")])],1),(_vm.nickname != null)?_c('div',[_c('div',{staticClass:\"username\"},[_vm._v(_vm._s(_vm.nickname))]),_c('br'),_vm._m(0)]):_c('div',[_vm._v(\" 您没有登陆，请登陆或注册\"),_c('br'),_c('van-button',{attrs:{\"round\":\"\",\"type\":\"info\",\"size\":\"normal\"},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"去登陆\")]),_c('van-button',{attrs:{\"round\":\"\",\"type\":\"info\",\"size\":\"normal\"},on:{\"click\":function($event){return _vm.register()}}},[_vm._v(\"去注册\")])],1)],1)]),_c('div',{staticClass:\"nav1\"},[_c('van-row',{staticClass:\"like\",attrs:{\"gutter\":\"20\"}},[_c('van-col',{attrs:{\"span\":\"8\"},on:{\"click\":function($event){return _vm.toFavor()}}},[_c('van-icon',{attrs:{\"name\":\"star-o\"}}),_vm._v(\"商品收藏 \")],1),_c('van-col',{attrs:{\"span\":\"8\"},on:{\"click\":function($event){return _vm.toComment()}}},[_c('van-icon',{attrs:{\"name\":\"underway-o\"}}),_vm._v(\"我的评价 \")],1),_c('van-col',{attrs:{\"span\":\"8\"}},[_c('van-icon',{attrs:{\"name\":\"cash-back-record\"}}),_vm._v(\"我的零钱 \")],1)],1)],1),_c('div',{staticClass:\"nav2\"},[_c('van-cell',{staticClass:\"order_cell\",attrs:{\"value\":\"全部\",\"is-link\":\"\"},on:{\"click\":function($event){return _vm.toOrder(0)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',{staticClass:\"custom-title\"},[_vm._v(\"我的订单\")])]},proxy:true}])}),_c('van-row',{staticClass:\"order\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('van-col',{attrs:{\"span\":\"4\"}},[_c('van-icon',{attrs:{\"name\":\"underway-o\",\"badge\":_vm.toBeStatus(1)},on:{\"click\":function($event){return _vm.toOrder(1)}}}),_c('div',[_vm._v(\"待付款\")])],1),_c('van-col',{attrs:{\"span\":\"4\"}},[_c('van-icon',{attrs:{\"name\":\"cash-back-record\",\"badge\":_vm.toBeStatus(2)},on:{\"click\":function($event){return _vm.toOrder(2)}}}),_c('div',[_vm._v(\"待发货\")])],1),_c('van-col',{attrs:{\"span\":\"4\"}},[_c('van-icon',{attrs:{\"name\":\"star-o\",\"badge\":_vm.toBeStatus(3)},on:{\"click\":function($event){return _vm.toOrder(3)}}}),_c('div',[_vm._v(\"待收货\")])],1),_c('van-col',{attrs:{\"span\":\"4\"}},[_c('van-icon',{attrs:{\"name\":\"cash-back-record\",\"badge\":_vm.toBeStatus(4)},on:{\"click\":function($event){return _vm.toOrder(4)}}}),_c('div',[_vm._v(\"待评价\")])],1),_c('van-col',{attrs:{\"span\":\"4\"}},[_c('van-icon',{attrs:{\"name\":\"cash-back-record\",\"badge\":_vm.toBeStatus(5)},on:{\"click\":function($event){return _vm.toRefund(5)}}}),_c('div',[_vm._v(\"退款\")])],1)],1)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"float\":\"left\",\"margin-top\":\"10px\",\"margin-left\":\"-50px\"}},[_c('span',[_vm._v(\"金币 666 | \")]),_c('span',[_vm._v(\"粉丝 666\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"user\">\r\n        <div class=\"header\">\r\n            <div class=\"header1\">\r\n                <van-image round class=\"userImg\" :src=\"nickname != null ? '/user.jpg' : ''\" />\r\n                <div class=\"setting\" @click=\"toSetting()\">\r\n                    <van-icon size=\"25\" name=\"setting-o\" />\r\n                    <div>设置</div>\r\n                </div>\r\n                <div v-if=\"nickname != null\">\r\n                    <div class=\"username\">{{ nickname }}</div><br>\r\n                    <div style=\"float:left;margin-top: 10px;margin-left: -50px;\">\r\n                        <span>金币 666 | </span>\r\n                        <span>粉丝 666</span>\r\n                    </div>\r\n                </div>\r\n                <div v-else>\r\n                    您没有登陆，请登陆或注册<br>\r\n                    <van-button round type=\"info\" size=\"normal\" @click=\"login()\">去登陆</van-button>\r\n                    <van-button round type=\"info\" size=\"normal\" @click=\"register()\">去注册</van-button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"nav1\">\r\n            <van-row gutter=\"20\" class=\"like\">\r\n                <van-col span=\"8\" @click=\"toFavor()\">\r\n                    <van-icon name=\"star-o\" />商品收藏\r\n                </van-col>\r\n                <van-col span=\"8\" @click=\"toComment()\">\r\n                    <van-icon name=\"underway-o\" />我的评价\r\n                </van-col>\r\n                <van-col span=\"8\">\r\n                    <van-icon name=\"cash-back-record\" />我的零钱\r\n                </van-col>\r\n            </van-row>\r\n\r\n        </div>\r\n        <div class=\"nav2\">\r\n            <van-cell value=\"全部\" @click=\"toOrder(0)\" is-link class=\"order_cell\">\r\n                <template #title>\r\n                    <span class=\"custom-title\">我的订单</span>\r\n                </template>\r\n            </van-cell>\r\n            <van-row class=\"order\" type=\"flex\" justify=\"space-between\">\r\n                <van-col span=\"4\">\r\n                    <van-icon name=\"underway-o\" @click=\"toOrder(1)\" :badge=\"toBeStatus(1)\" />\r\n                    <div>待付款</div>\r\n                </van-col>\r\n                <van-col span=\"4\">\r\n                    <van-icon name=\"cash-back-record\" @click=\"toOrder(2)\" :badge=\"toBeStatus(2)\" />\r\n                    <div>待发货</div>\r\n                </van-col>\r\n                <van-col span=\"4\">\r\n                    <van-icon name=\"star-o\" @click=\"toOrder(3)\" :badge=\"toBeStatus(3)\" />\r\n                    <div>待收货</div>\r\n                </van-col>\r\n                <van-col span=\"4\">\r\n                    <van-icon name=\"cash-back-record\" @click=\"toOrder(4)\" :badge=\"toBeStatus(4)\" />\r\n                    <div>待评价</div>\r\n                </van-col>\r\n                <van-col span=\"4\">\r\n                    <van-icon name=\"cash-back-record\" @click=\"toRefund(5)\" :badge=\"toBeStatus(5)\" />\r\n                    <div>退款</div>\r\n                </van-col>\r\n            </van-row>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/api';\r\n\r\n\r\nexport default {\r\n    name: 'frontUser',\r\n    data: function () {\r\n        return {\r\n            nickname: localStorage.getItem('nickname'),\r\n        }\r\n    },\r\n    computed: {\r\n        toBeStatus() {\r\n            return (status) => {\r\n                let n = this.$store.getters.getOrderNum(status);\r\n                return n  ? n : '';\r\n            }\r\n        },\r\n    },\r\n    created: function() {\r\n        let name = localStorage.getItem('username');\r\n        if (name != null) {\r\n        let self = this;\r\n        api.getUser(\"/user/getUser\", name)\r\n            .then(res => {\r\n                let num = new Array(8).fill(0)\r\n                if (res.statusCode == 200) {\r\n                    self.user = res.data.user;\r\n                    api.getByUserId(\"/order/getByUserId\")\r\n                        .then(res => {\r\n                            console.log(res.data);\r\n                            res.data.forEach(i => {\r\n                                if(i.status == -1)\r\n                                    num[6]++\r\n                                else if(i.status == -2)\r\n                                    num[7]++\r\n                                else {\r\n                                    num[i.status]++\r\n                                    num[0] += num[i.status]  \r\n                                }                               \r\n                            })\r\n                            console.log(num);\r\n                            self.$store.commit('setOrderNum', num);\r\n                            // self.$router.replace({ path: '/search' });//跳转空白页刷新\r\n                        })\r\n                }\r\n                else {\r\n                    self.$store.commit('setOrderNum', num);\r\n                }\r\n            })\r\n        }\r\n    },\r\n    methods: {\r\n        register() {\r\n            this.$router.push('register');\r\n        },\r\n        login() {\r\n            this.$router.push('login');\r\n        },\r\n        toOrder(status) {\r\n            this.$router.push({ path: '/order', query: { status: status } });\r\n        },\r\n        toSetting() {\r\n            this.$router.push({ path: '/setting', query: {user: this.user}});\r\n        },\r\n        toFavor() {\r\n            this.$router.push({ path: '/favor', });\r\n        },\r\n        toComment() {\r\n            this.$router.push({ path: '/myComment', });\r\n        },\r\n        toRefund(status) {\r\n            this.$router.push({ path: '/reFund', query: { books: [], status: status } })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.user {\r\n    padding-top: 20px;\r\n    background-color: #fffde4;\r\n}\r\n\r\n.header {\r\n    height: 100px;\r\n}\r\n\r\n.header1 {\r\n    padding: 10px;\r\n}\r\n\r\n.userImg {\r\n    width: 4rem;\r\n    height: 4rem;\r\n    float: left;\r\n}\r\n\r\n.username {\r\n    float: left;\r\n    font-size: larger;\r\n    margin-left: 20px;\r\n}\r\n\r\n.custom-title {\r\n    float: left;\r\n}\r\n\r\n\r\n.setting {\r\n    float: right;\r\n}\r\n\r\n.van-button--large {\r\n    width: 70%;\r\n}\r\n\r\n.nav1 {\r\n    background-color: #fff5cd;\r\n    border-radius: 16px;\r\n    padding: 10px;\r\n    margin: 5px;\r\n}\r\n\r\n.nav2 {\r\n    background-color: #f1f3d4;\r\n    border-radius: 16px;\r\n    padding: 5px;\r\n    margin: 5px;\r\n}\r\n\r\n.like {\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.order {\r\n    margin: 5px 20px 5px 20px;\r\n}\r\n\r\n.order i {\r\n    font-size: 30px;\r\n}\r\n\r\n.order_cell {\r\n    background-color: #f1f3d4;\r\n    border-radius: 16px;\r\n    padding-left: 8px;\r\n    padding-right: 8px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=aa6afce4&scoped=true\"\nimport script from \"./User.vue?vue&type=script&lang=js\"\nexport * from \"./User.vue?vue&type=script&lang=js\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=aa6afce4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aa6afce4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","nickname","on","$event","toSetting","_v","_s","_m","login","register","toFavor","toComment","toOrder","scopedSlots","_u","key","fn","proxy","toBeStatus","toRefund","staticRenderFns","staticStyle","name","data","localStorage","getItem","computed","status","n","$store","getters","getOrderNum","created","self","api","getUser","then","res","num","Array","fill","statusCode","user","getByUserId","console","log","forEach","i","commit","methods","$router","push","path","query","books","component"],"sourceRoot":""}