{"version":3,"file":"js/131.49975511.js","mappings":"uKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,YAAY,SAAS,aAAa,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAOP,EAAIQ,QAAQC,IAAI,EAAE,KAAKP,EAAG,mBAAmB,CAACG,MAAM,CAAC,wBAAwB,IAAIK,MAAM,CAACC,MAAOX,EAAIY,KAAMC,SAAS,SAAUC,GAAMd,EAAIY,KAAKE,CAAG,EAAEC,WAAW,SAAS,CAACb,EAAG,WAAW,CAACc,KAAK,WAAW,CAACd,EAAG,mBAAmB,CAACG,MAAM,CAAC,eAAeL,EAAIiB,KAAK,GAAG,YAAYjB,EAAIkB,SAAS,cAAc,GAAG,qBAAqB,GAAG,gBAAgBlB,EAAImB,aAAa,2BAA2B,CAAC,MAAO,MAAO,QAAQb,GAAG,CAAC,KAAON,EAAIoB,OAAO,OAASpB,EAAIqB,SAAS,gBAAgBrB,EAAIsB,mBAAmB,IAAI,GAAGpB,EAAG,mBAAmB,CAACG,MAAM,CAAC,KAAOL,EAAIiB,KAAK,mBAAmB,MAAMX,GAAG,CAAC,KAAON,EAAIuB,QAAQb,MAAM,CAACC,MAAOX,EAAIwB,gBAAiBX,SAAS,SAAUC,GAAMd,EAAIwB,gBAAgBV,CAAG,EAAEC,WAAW,sBAAsB,EACh6B,EACIU,EAAkB,G,sDCuBtB,GACAC,KAAA,UACAC,KAAA,WACA,OACAH,gBAAA,IACAP,KAAA,GACAL,MAAA,EACAM,SAAAA,EAAAA,EACAC,aAAA,GAEA,EACAS,QAAA,WACA,KAAAC,SACA,EACAC,QAAA,CACAP,MAAAA,GACA,KAAAX,MAAA,CACA,EACAQ,MAAAA,CAAAW,GACAC,QAAAC,IAAAF,GACA,IAAAG,EAAAH,EAAAI,SAAAJ,EAAAK,KAAAL,EAAAM,OAAA,IAAAN,EAAAO,cAEA,IAAAX,EAAA,CACA,UAAAI,EAAAQ,IACA,QAAAL,GAEA,IAAAM,EAAA,KACAC,EAAAA,EAAAC,WAAA,mBAAAf,GACAgB,MAAAC,IACAZ,QAAAC,IAAAW,EAAAjB,MACAa,EAAAK,KAAAD,EAAAjB,KAAAkB,KACAL,EAAA5B,MAAA,EACA4B,EAAAX,SAAA,GAEA,EACAR,QAAAA,IACAyB,EAAAA,EAAAA,GAAA,OACA,EACAxB,cAAAA,CAAAyB,GACAf,QAAAC,IAAAc,EACA,EACAlB,OAAAA,GACA,IAAAW,EAAA,KACAC,EAAAA,EAAAZ,QAAA,gBAAAmB,aAAAC,QAAA,aACAN,MAAAC,IACAZ,QAAAC,IAAAW,EAAAjB,MACAa,EAAAK,KAAAD,EAAAjB,KAAAkB,KACAL,EAAAvB,KAAA,GACAuB,EAAAvB,KAAAiC,KAAA,CAAAxB,KAAAc,EAAAK,KAAAM,SAAAZ,IAAAC,EAAAK,KAAAO,UAAAlB,QAAAM,EAAAK,KAAAX,QAAAmB,WAAA,MAEA,IC3E+P,I,UCQ3PC,GAAY,OACd,EACAvD,EACA0B,GACA,EACA,KACA,WACA,MAIF,EAAe6B,EAAiB,O","sources":["webpack://bookstore_app/./src/components/mobile/Address.vue","webpack://bookstore_app/src/components/mobile/Address.vue","webpack://bookstore_app/./src/components/mobile/Address.vue?d859","webpack://bookstore_app/./src/components/mobile/Address.vue?2e04"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"address\"},[_c('van-nav-bar',{attrs:{\"left-text\":\"我的收货地址\",\"right-text\":\"管理\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_c('van-action-sheet',{attrs:{\"close-on-click-action\":\"\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('template',{slot:\"default\"},[_c('van-address-edit',{attrs:{\"address-info\":_vm.list[0],\"area-list\":_vm.areaList,\"show-delete\":\"\",\"show-search-result\":\"\",\"search-result\":_vm.searchResult,\"area-columns-placeholder\":['请选择', '请选择', '请选择']},on:{\"save\":_vm.onSave,\"delete\":_vm.onDelete,\"change-detail\":_vm.onChangeDetail}})],1)],2),_c('van-address-list',{attrs:{\"list\":_vm.list,\"default-tag-text\":\"默认\"},on:{\"edit\":_vm.onEdit},model:{value:(_vm.chosenAddressId),callback:function ($$v) {_vm.chosenAddressId=$$v},expression:\"chosenAddressId\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"address\">\r\n        <van-nav-bar left-text=\"我的收货地址\" right-text=\"管理\" left-arrow @click-left=$router.go(-1)>\r\n\r\n        </van-nav-bar>\r\n        <van-action-sheet v-model=\"show\" close-on-click-action>\r\n            <template slot=\"default\">\r\n                <van-address-edit :address-info=\"list[0]\" :area-list=\"areaList\" show-delete show-search-result\r\n                    :search-result=\"searchResult\" :area-columns-placeholder=\"['请选择', '请选择', '请选择']\" @save=\"onSave\"\r\n                    @delete=\"onDelete\" @change-detail=\"onChangeDetail\" />\r\n            </template>\r\n        </van-action-sheet>\r\n        <van-address-list v-model=\"chosenAddressId\" :list=\"list\" default-tag-text=\"默认\"\r\n             @edit=\"onEdit\">\r\n\r\n        </van-address-list>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/api\"\r\nimport { areaList } from '@vant/area-data';\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n    name: 'address',\r\n    data: function () {\r\n        return {\r\n            chosenAddressId: '1',\r\n            list: [],\r\n            show: false,\r\n            areaList: areaList,\r\n            searchResult: [],\r\n        }\r\n    },\r\n    created: function() {\r\n        this.getUser()\r\n    },\r\n    methods: {\r\n        onEdit() {\r\n            this.show = true\r\n        },\r\n        onSave(myAddress) {\r\n            console.log(myAddress);\r\n            let address = myAddress.province + myAddress.city + myAddress.county + \" \" + myAddress.addressDetail;\r\n            \r\n            var data = {\r\n                'telephone': myAddress.tel,\r\n                'address': address\r\n            }\r\n            let self = this;\r\n            api.updateUser(\"/user/updateUser\", data)\r\n                .then(res => {\r\n                    console.log(res.data);\r\n                    self.user = res.data.user;\r\n                    self.show = false;\r\n                    self.getUser();\r\n                })\r\n        },\r\n        onDelete() {\r\n            Toast(\"删除成功\");\r\n        },\r\n        onChangeDetail(val) {\r\n            console.log(val);\r\n        },\r\n        getUser() {\r\n            let self = this;\r\n            api.getUser(\"/user/getUser\", localStorage.getItem('username'))\r\n                .then(res => {\r\n                    console.log(res.data);\r\n                    self.user = res.data.user;\r\n                    self.list = [];\r\n                    self.list.push({ name: self.user.username, tel: self.user.telephone, address: self.user.address, isDefault: true, });\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n    padding: 16px 16px 160px;\r\n\r\n}\r\n.van-address-edit__buttons {\r\n    padding: 0px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Address.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Address.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Address.vue?vue&type=template&id=59114411&scoped=true\"\nimport script from \"./Address.vue?vue&type=script&lang=js\"\nexport * from \"./Address.vue?vue&type=script&lang=js\"\nimport style0 from \"./Address.vue?vue&type=style&index=0&id=59114411&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59114411\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","go","model","value","show","callback","$$v","expression","slot","list","areaList","searchResult","onSave","onDelete","onChangeDetail","onEdit","chosenAddressId","staticRenderFns","name","data","created","getUser","methods","myAddress","console","log","address","province","city","county","addressDetail","tel","self","api","updateUser","then","res","user","_Toast","val","localStorage","getItem","push","username","telephone","isDefault","component"],"sourceRoot":""}